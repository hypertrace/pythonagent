# Pythonagent

Pythonagent provides instrumentation to python applications.

## Getting started

- Have access granted to your github.com id.
- Install the hypertrace python agent:

```bash
pip install git+https://github.com/rcbj/hypertrace-pythonagent.git@main#egg=hypertrace
```

- Enter your github.com username and password when prompted.
- Add the following to your app's entrypoint python file:

```python
from hypertrace.agent import Agent

# Initialize agent
agent = Agent()
agent.registerFlaskApp(app)
agent.registerMySQL()
agent.registerPostgreSQL()
agent.registerRequests()
agent.registerAioHttp()
agent.registerGrpcServer()
```

The python agent output is now written to a log file managed by the logging module. This can currently be found in ${REPO_HOME}/test/agent.log.

## Contributing

### Developer Setup

1. clone this repo.
2. run tests: `scripts/test-all.sh`
3. To run individual tests:
```bash
cd test/flask
tox
```

### Environment Variables

See [here](https://github.com/hypertrace/agent-config/blob/main/ENV_VARS.md) for supported Hypertrace environment variables.

### Documentation

Documentation is generated by [pdoc3](https://pypi.org/project/pdoc3/)
